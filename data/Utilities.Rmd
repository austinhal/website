---
title: "Utilities Dataset t Test"
#author: "Austin Halvorsen"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output: 
  html_document:
    theme: flatly
    highlight: 
    code_folding: hide
    toc: true
    toc_float: true
---

```{r, include=FALSE}
# Note that the include=FALSE makes it so that this chunk doesn't show up in the knitted document.
library(mosaic)
library(pander)
library(DT)
library(ggplot2)
library(car)
```

```{r, eval=FALSE, include=FALSE}
# Note that eval=FALSE makes it so that this chunk is not evaluated when Knitting, but still allows you to "play" the chunk into your Console. That is because these two commands View() and ? should only be used in the Console, not in a knitted document.
# Run this in your Console to see the data.
View(Utilities)
?Utilities
```

<!-- Instructions

1. Use the Utilities dataset in R to come up with a question that can be answered with a t Test (One Sample, Paired Samples, or Independent Samples).

2. Establish why the question is interesting. State the question in written form as well as with a statistical "null" and "alternative" hypothesis.

Starter code for writing hypotheses:

$$
  H_0: \mu_\text{something} - \mu_\text{something else} = 0
$$
$$
  H_a: \mu_\text{something} - \mu_\text{something else} \neq 0
$$


3. Clearly answer your question using statistics. Be sure to compute a p-value and provide supporting numerical and graphical summaries. Also be sure to establish whether or not the requirements of your t test have been satisfied using both Q-Q Plots and references to sample size. (See the Math 325 Notebook for details.)

-->

## Background

As I began to look at the data we were given on utilities, I was curious what fields would be interesting to compare in a t-test and _what_ type of t test as well. I decided to do an __independent t-test__ I knew that it would be important to compare on fields with similar units, so I wondered __Is there a difference in the mean of the gas bills to the electric bill?__ Stated in notation:

$$
  H_0: \mu_\text{gas} = \mu_\text{electric}
$$
$$
  H_a: \mu_\text{gas} \neq \mu_\text{electric}
$$
Essentially, is the average bill for gas the same as the average bill for electric? Initially, I assumed that this relationship would not be equal to each other. On the surface, electricity is [_typically_](https://www.ovoenergy.com/guides/energy-guides/the-average-gas-bill-average-electricity-bill-compared.html) cheaper[^1] than gas per unit (i.e., per kWh), so I thought that naturally, the data would show that the averages are not the same. Well, lets dig in to some analysis and find out!

## Analysis

After reviewing the data set, 


I decided to create a box plot and then conduct a `t test` with the two variables `gasbill` (Gas Bill in \$) and `elecbill` (Electric Bill in \$). I wanted to see if there was a difference in the average price between the two groups. I wanted to see, using a box plot, what the spread of the data was. Lets take a quick look at those plots.

```{r fig.height=8, fig.width=10, message=FALSE, warning=FALSE}
boxplot(Utilities$gasbill, Utilities$elecbill, names = c("Gas", "Electric"), col = c("firebrick3", "goldenrod"),
        main = "Spread of gas vs electric bill",
        xlab = "Utility Type",
        ylab = "Monthly Cost (in USD)")
```

Looking at the box plots, we can see that the spread of the `gasbill` column is quite large, however, the means are fairly close together. I suspected that, based on the graph that the gas bill would have a higher average than my electric, so to check my assumption, I needed to check using a `t test`. First, however, I made a qqplot for each the Gas bill and Electric bill. 

```{r, fig.height=6, fig.width=10, message=FALSE, warning=FALSE, paged.print=FALSE}
par(mfrow=c(1,2))
qqPlot(Utilities$gasbill, distribution = "norm", xlab = "Quantiles", ylab = "Gas bill ($)", main = "Q-Q Plot (Gas)", col = "firebrick3", col.lines = "black")
qqPlot(Utilities$elecbill, distribution = "norm", xlab = "Norm Quantiles", ylab = "Electric bill ($)", main = "Q-Q Plot (Electric)", col = "goldenrod", col.lines = "black")
```

Looking at the QQ plots, we can see that the data is **not normal**. This will affect the results of the test, but we will continue with the test.

--- 

To perform my test, I compared my `gasbill` to `elecbill` and performed the test. Since our sample had more than fifteen observations, we can perform a t test. Take a look below.

```{r}
pander((t.test(Utilities$gasbill, Utilities$elecbill, mu = 0, alternative = "two.sided", conf.level = 0.95)), caption = "Two Sample t-test: `Gas Bill` and `Electric Bill`")
```

Because we calculated a P-value of `0.4881`, we fail to reject our `null` hypothesis. Continue reading below for the interpretation of the tests. 

## Interpretation

After analyzing my `t test`, I found that there is insufficient evidence to conclude that the average Gas Bill is difference than the average Electric Bill. In other words, it is safe to conclude that the mean price for electric bills and gas bills from our sample will hold true for our whole population. This means that we can assume that others homeowners bills on electric and gas, will be, on average, the same price.



[^1]: https://www.ovoenergy.com/guides/energy-guides/the-average-gas-bill-average-electricity-bill-compared.html

[Home](../index.html)
